(define cnt01 0) (define cnt02 0) (define cnt03 0) (define cnt04 0) (define cnt05 0)
(define cnt06 0) (define cnt07 0) (define cnt08 0) (define cnt09 0) (define cnt10 0)
(define cnt11 0) (define cnt12 0) (define cnt13 0) (define cnt14 0) (define cnt15 0)
(define cnt16 0) (define cnt17 0) (define cnt18 0) (define cnt19 0) (define cnt20 0)
(define cnt21 0) (define cnt22 0) (define cnt23 0) (define cnt24 0) (define cnt25 0)

(defun counter (var rate start)
    (progn
        (set! var start)
        (yield (/ 1000000 rate))
        (counter var rate (+ start 1))
))

; Start lots of threads where each thread has
; 20 symbols of stack.
(spawn 20 counter 'cnt01 10 0)
(spawn 20 counter 'cnt02 20 0)
(spawn 20 counter 'cnt03 30 0)
(spawn 20 counter 'cnt04 40 0)
(spawn 20 counter 'cnt05 50 0)
(spawn 20 counter 'cnt06 60 0)
(spawn 20 counter 'cnt07 70 0)
(spawn 20 counter 'cnt08 80 0)
(spawn 20 counter 'cnt09 90 0)
(spawn 20 counter 'cnt10 100 0)
(spawn 20 counter 'cnt11 110 0)
(spawn 20 counter 'cnt12 120 0)
(spawn 20 counter 'cnt13 130 0)
(spawn 20 counter 'cnt14 140 0)
(spawn 20 counter 'cnt15 150 0)
(spawn 20 counter 'cnt16 160 0)
(spawn 20 counter 'cnt17 170 0)
(spawn 20 counter 'cnt18 180 0)
(spawn 20 counter 'cnt19 190 0)
(spawn 20 counter 'cnt20 200 0)
(spawn 20 counter 'cnt21 210 0)
(spawn 20 counter 'cnt22 220 0)
(spawn 20 counter 'cnt23 230 0)
(spawn 20 counter 'cnt24 240 0)
(spawn 20 counter 'cnt25 250 0)
